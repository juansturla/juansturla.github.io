{"version":3,"sources":["components/RewardItem.module.css","utils.js","assets/victory/tamamo2/fgo-tamamo.gif","assets/victory/tamamo2/tam_0502.wav","assets/victory/tamamo1/fgo-tamamo.gif","assets/victory/tamamo1/tam_0502.wav","assets/defeat/jeanne/jeanne.gif","exportedFileFolders.js","components/RewardItem.jsx","components/App.jsx","index.js"],"names":["module","exports","makeRequest","Promise","resolve","reject","URLSearchParams","window","location","search","get","axios","method","header","params","cn","command","action","channel","url","process","then","response","errorMessage","data","console","error","catch","err","errorText","concat","status","request","message","getErrorString","victory","0","gif","victorytamamo2gif","wav","victorytamamo2wav","1","victorytamamo1gif","victorytamamo1wav","defeat","defeatjeannegif","RewardItem","_ref","sourceFolder","isVictory","randomIndex","Math","floor","random","getRandomFolder","image","audio","_jsx","ReactAudioPlayer","src","volume","autoPlay","className","styles","imageFadeInAndOut","alt","_jsxs","container","children","React","memo","App","_useState","useState","_useState2","_slicedToArray","info","setInfo","getInfo","useEffect","interval","setInterval","clearInterval","includes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77b2029b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RewardItem_container__2te4D\",\"content\":\"RewardItem_content__PQE2K\",\"rewards\":\"RewardItem_rewards__1_Khj\",\"rewardImage\":\"RewardItem_rewardImage__3twjm\",\"fadeOut\":\"RewardItem_fadeOut__1oi8o\",\"imageFadeInAndOut\":\"RewardItem_imageFadeInAndOut__1Dwun\",\"fadeInAndOut\":\"RewardItem_fadeInAndOut__3FYDZ\",\"progressBarLeft\":\"RewardItem_progressBarLeft__280hA\",\"progressBarRight\":\"RewardItem_progressBarRight__kw92l\",\"flash\":\"RewardItem_flash__3kbpa\",\"blink\":\"RewardItem_blink__22WTl\",\"fadeIn\":\"RewardItem_fadeIn__BK8oR\"};","import axios from 'axios';\n\nexport function makeRequest() {\n    return new Promise((resolve, reject) => {\n        let passKey = process.env.REACT_APP_STREAMER_KEY;\n        if (process.env.NODE_ENV !== \"development\") {\n            const params = new URLSearchParams(window.location.search);\n            passKey = params.get(\"pass\");\n            if (passKey !== \"passKey\") {\n                reject(\"Wrong password\");\n            }\n        }\n\n        const options = {\n            method: 'get',\n            header: {\n                'content-type': 'application/x-www-form-urlencoded'\n            },\n            params: {\n                cn: 'chatAction',\n                command: 'chatAction',\n                action: 'battle',\n                channel: 'juan_sturla',\n            },\n            url: process.env.REACT_APP_GAME_API_URL\n        };\n        axios(options)\n            .then((response) => {\n                const errorMessage = response.data.errorMessage;\n                if (errorMessage) {\n                    console.error(errorMessage);\n                    return reject(errorMessage);\n                }\n                resolve(response.data);\n            })\n            .catch((err) => {\n                const errorText = getErrorString(err);\n                console.error(errorText);\n                reject(errorText)\n            });\n    });\n}\n\nfunction getErrorString(err) {\n    if (typeof err === 'string') {\n        return err;\n    } else if (err.response) {\n        return `Server error: ${err.response.status}`;\n    } else if (err.request) {\n        return `Server error: No response.`;\n    } else if (err.message) {\n        return `Application error: ${err.message}`;\n    } else {\n        console.error(err);\n        return `Unknown error.`;\n    }\n}\n","export default __webpack_public_path__ + \"static/media/fgo-tamamo.f03cc0c0.gif\";","export default __webpack_public_path__ + \"static/media/tam_0502.4998ff7b.wav\";","export default __webpack_public_path__ + \"static/media/fgo-tamamo.f03cc0c0.gif\";","export default __webpack_public_path__ + \"static/media/tam_0502.4998ff7b.wav\";","export default __webpack_public_path__ + \"static/media/jeanne.85997f6b.gif\";","import victorytamamo2gif from './assets/victory/tamamo2/fgo-tamamo.gif'\nimport victorytamamo2wav from './assets/victory/tamamo2/tam_0502.wav'\nimport victorytamamo1gif from './assets/victory/tamamo1/fgo-tamamo.gif'\nimport victorytamamo1wav from './assets/victory/tamamo1/tam_0502.wav'\nimport defeatjeannegif from './assets/defeat/jeanne/jeanne.gif'\n\n\nconst victory = {\n\t0 : { \n\t\tgif : victorytamamo2gif,\n\t\twav : victorytamamo2wav,\n\t},\n\t1 : { \n\t\tgif : victorytamamo1gif,\n\t\twav : victorytamamo1wav,\n\t},\n\t\t 'length':2 , \n}\nconst defeat = {\n\t0 : { \n\t\tgif : defeatjeannegif,\n\t},\n\t\t 'length':1 , \n}\nexport function getRandomFolder(isVictory)\n{\n    if (isVictory) {\n        const randomIndex = Math.floor(Math.random() * victory[\"length\"]);\n        return victory[randomIndex];\n    } else {\n        const randomIndex = Math.floor(Math.random() * defeat[\"length\"]);\n        return defeat[randomIndex];\n    }\n}","import React, { useEffect, useRef } from 'react';\nimport ReactAudioPlayer from 'react-audio-player';\nimport { getRandomFolder } from '../exportedFileFolders';\nimport styles from './RewardItem.module.css';\n\nfunction RewardItem({ isVictory }) {\n    let sourceFolder = getRandomFolder(isVictory);\n\n    let image = null;\n    let audio = null;\n    if (sourceFolder[\"wav\"]) {\n        audio = (\n            <ReactAudioPlayer src={sourceFolder[\"wav\"]} volume={0.5} autoPlay />\n        );\n    }\n    if (sourceFolder[\"gif\"]) {\n        image = (\n                    <img className={styles.imageFadeInAndOut} src={sourceFolder[\"gif\"]} alt='Reward'/>\n                )\n    }\n\n    return (\n        <div className={styles.container}>\n            {image}\n            {audio}\n        </div>\n    );\n}\n\nexport default React.memo(RewardItem);\n","import React, { useEffect, useState } from 'react';\nimport { makeRequest } from '../utils';\nimport RewardItem from './RewardItem';\n\nfunction App() {\n    const [info, setInfo] = useState(null);\n    const getInfo = () => {\n        return new Promise((resolve, reject) => {\n            makeRequest()\n                .then((response) => {\n                    console.info(response);\n                    resolve(response);\n                })\n                .catch((err) => {\n                    console.error(err);\n                    reject(err);\n                });\n        });\n    };\n    useEffect(() => {\n        getInfo()\n            .then((response) => {\n                setInfo(response);\n            })\n            .catch((err) => {\n                // Do nothing.\n            });\n        let interval = setInterval(() => {\n            getInfo()\n                .then((response) => {\n                    setInfo(response);\n                })\n                .catch((err) => {\n                    // Do nothing.\n                });\n        }, 10000);\n        return () => {\n            clearInterval(interval);\n        };\n    }, []);\n    if (!info) {\n        return null;\n    }\n    // Temp\n    let victory = false;\n    let defeat = false;\n    if (info.includes(\"We won\")) {\n        victory = true;\n    }\n    else if (info.includes(\"We lost\")) {\n        defeat = true;\n        victory = false;\n    }\n    if (!defeat && !victory) {\n        return null;\n    }\n\n    return (\n        <RewardItem\n            isVictory={victory}\n        />\n    );\n}\n\nexport default React.memo(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}